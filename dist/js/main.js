$(document).ready(function(){$(".burger-menu-button").on("click",function(e){e.preventDefault(),$(this).toggleClass("burger-menu-button--active"),$(".burger-menu").toggleClass("burger-menu--active")});$(".nav-links__li");$(".nav-links__li").on("click",function(){$(".burger-menu-button").removeClass("burger-menu-button--active"),$(".burger-menu").removeClass("burger-menu--active")}),$("#header-nav-bar, #burger-nav-bar, #footer-links-leto, #footer-links-clients").on("click","a",function(e){e.preventDefault();var o=$(this).attr("href"),a=$(o).offset().top;$("body,html").animate({scrollTop:a-150},1500)});var e=$("#club-choice-link"),o=$("#club-cards-link"),a=$("#clients-list-choice"),n=$("#clients-list-cards");e.on("click",function(e){e.preventDefault();location.href="index.php#club-choice"}),o.on("click",function(e){e.preventDefault();location.href="index.php#club-cards"}),a.on("click",function(e){e.preventDefault();location.href="index.php#club-choice"}),n.on("click",function(e){e.preventDefault();location.href="index.php#club-cards"});var i=$("#club-mozaika"),t=$("#club-shchelkovo");i.on("click",function(){location.href="mozaika.php"}),t.on("click",function(){location.href="shchelkovo.php"});new Swiper(".main-slider__container",{loop:!0,speed:400,spaceBetween:1e3,autoplay:{delay:5e3},pagination:{el:".main-slider__pagination"}}),new Swiper(".services__slider-container",{slidesPerView:5,spaceBetween:20,loop:!0,loopFillGroupWithBlank:!0,navigation:{nextEl:".services__button-next",prevEl:".services__button-prev"},breakpoints:{0:{slidesPerView:1,spaceBetween:20},450:{slidesPerView:2,spaceBetween:20},640:{slidesPerView:3,spaceBetween:20},768:{slidesPerView:4,spaceBetween:20},1024:{slidesPerView:5,spaceBetween:20}}}),new Swiper(".gallery__slider-container",{loop:!0,speed:400,spaceBetween:100,pagination:{el:".gallery__slider-pagination"},navigation:{nextEl:".gallery__button-next",prevEl:".gallery__button-prev"}});$("#club-cards-input-name").focus(function(){$("#club-cards-label-name").hide()}),$("#club-cards-input-name").blur(function(){""===$(this).val().trim()&&$("#club-cards-label-name").show()}),$("#club-cards-input-phone").focus(function(){$("#club-cards-label-phone").hide()}),$("#club-cards-input-phone").blur(function(){""===$(this).val().trim()&&$("#club-cards-label-phone").show()}),$("#club-mozaika-form-input-name").focus(function(){$("#club-mozaika-form-label-name").hide()}),$("#club-mozaika-form-input-name").blur(function(){""===$(this).val().trim()&&$("#club-mozaika-form-label-name").show()}),$("#club-mozaika-form-input-phone").focus(function(){$("#club-mozaika-form-label-phone").hide()}),$("#club-mozaika-form-input-phone").blur(function(){""===$(this).val().trim()&&$("#club-mozaika-form-label-phone").show()}),$("#club-shchelkovo-form-input-name").focus(function(){$("#club-shchelkovo-form-label-name").hide()}),$("#club-shchelkovo-form-input-name").blur(function(){""===$(this).val().trim()&&$("#club-shchelkovo-form-label-name").show()}),$("#club-shchelkovo-form-input-phone").focus(function(){$("#club-shchelkovo-form-label-phone").hide()}),$("#club-shchelkovo-form-input-phone").blur(function(){""===$(this).val().trim()&&$("#club-shchelkovo-form-label-phone").show()});var c=$(".modal"),l=$(".modal__container-call"),s=$(".modal__container-visit"),r=$("#btn-sumbit-header__button"),m=$("#btn-sumbit-burger-menu__button"),u=$("#btn-sumbit-footer__button"),d=$(".header__sign-up-free-call"),b=$(".modal__close"),h=$(".thanks-modal"),v=$(".thanks-modal__container-thanks"),f=$(".thanks-modal__close");m.on("click",function(){s.removeClass("modal__container-visit--visible"),c.toggleClass("modal--visible"),l.addClass("modal__container-call--visible")}),r.on("click",function(){s.removeClass("modal__container-visit--visible"),c.toggleClass("modal--visible"),l.addClass("modal__container-call--visible")}),d.on("click",function(){l.removeClass("modal__container-call--visible"),c.toggleClass("modal--visible"),s.addClass("modal__container-visit--visible")}),u.on("click",function(){s.removeClass("modal__container-visit--visible"),c.toggleClass("modal--visible"),l.addClass("modal__container-call--visible")}),b.on("click",function(){c.toggleClass("modal--visible")}),f.on("click",function(){h.removeClass("thanks-modal--visible"),v.removeClass("thanks-modal__container-thanks--active")}),$(document).on("keydown",function(e){"Escape"==e.code&&(c.removeClass("modal--visible"),h.removeClass("thanks-modal--visible"),v.removeClass("thanks-modal__container-thanks--active"))}),$(document).on("click",function(e){c.is(e.target)&&($(".modal__form--1")[0].reset(),$(".modal__form--2")[0].reset(),$("div.invalid").remove(),$(".modal__form").find(".invalid").removeClass("invalid"),c.removeClass("modal--visible"))}),$(document).on("click",function(e){h.is(e.target)&&h.removeClass("thanks-modal--visible")}),$(document).on("click",function(e){v.is(e.target)&&v.removeClass("thanks-modal__container-thanks--active")});var _=$(".header__mini-menu-1"),p=$(".header__mini-menu-2"),k=$(".header__mini-menu-clubs-2"),g=$("#header-checkbox-1"),C=$(".header__mini-menu-3"),x=$(".header__mini-menu-4");_.on("click",function(){_.toggleClass("header__mini-menu-1--active"),p.addClass("header__mini-menu-2--active"),k.addClass("header__mini-menu-clubs-2--active")}),p.on("click",function(){p.removeClass("header__mini-menu-2--active"),k.removeClass("header__mini-menu-clubs-2--active"),g.prop("checked")?C.addClass("header__mini-menu-3--active"):x.addClass("header__mini-menu-4--active")}),C.on("click",function(){C.removeClass("header__mini-menu-3--active"),p.addClass("header__mini-menu-2--active"),k.addClass("header__mini-menu-clubs-2--active")}),x.on("click",function(){x.removeClass("header__mini-menu-4--active"),p.addClass("header__mini-menu-2--active"),k.addClass("header__mini-menu-clubs-2--active")});var y=$(".cards-form-box__month-button");y.on("click",function(e){y.removeClass("cards-form-box__month-button--active"),$(this).addClass("cards-form-box__month-button--active")});var w=$(".mozaika-form-box__price-button");w.on("click",function(e){w.removeClass("mozaika-form-box__price-button--active"),$(this).addClass("mozaika-form-box__price-button--active")});var z=$(".shchelkovo-form-box__price-button");z.on("click",function(e){z.removeClass("shchelkovo-form-box__price-button--active"),$(this).addClass("shchelkovo-form-box__price-button--active")});for(var P=[".modal__form--1",".modal__form--2",".club-cards__form",".visit-form__form",".club-mozaika-form__form",".club-shchelkovo-form__form"],B=0;B<P.length;B++)E(P[B]);function E(e){$(e).validate({errorClass:"invalid",errorElement:"div",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:18},userEmail:{required:!0,email:!0}},messages:{userName:{required:"Заполните поле",minlength:"Не меньше 2-х букв",maxlength:"Не больше 15-и букв"},userPhone:{required:"Заполните поле",minlength:"Не меньше 10-и цифр"},userEmail:{required:"Заполните поле",email:"Введите корректный email: name@domain.com"}},submitHandler:function(e){$.ajax({type:"POST",url:"send.php",data:$(e).serialize(),success:function(o){return $(e)[0].reset(),c.removeClass("modal--visible"),$(".input-show").show(),h.addClass("thanks-modal--visible"),v.addClass("thanks-modal__container-thanks--visible"),ym(61650112,"reachGoal","success-form"),!0}})}}),$("[type=tel]").mask("+7 (000) 000-00-00"),$("#visit-checkbox").on("change",function(){$("#visit-checkbox").prop("checked")?($("#btn-sumbit-visit").attr("disabled",!1),$("#btn-sumbit-visit").css("opacity",1)):($("#btn-sumbit-visit").attr("disabled",!0),$("#btn-sumbit-visit").css("opacity",.5))}),$("#cards-form-box-checkbox-main").on("change",function(){$("#cards-form-box-checkbox-main").prop("checked")?($("#btn-sumbit-cards-form-box").attr("disabled",!1),$("#btn-sumbit-cards-form-box").css("opacity",1)):($("#btn-sumbit-cards-form-box").attr("disabled",!0),$("#btn-sumbit-cards-form-box").css("opacity",.5))}),$("#call-checkbox").on("change",function(){$("#call-checkbox").prop("checked")?($("#btn-sumbit-call").attr("disabled",!1),$("#btn-sumbit-call").css("opacity",1)):($("#btn-sumbit-call").attr("disabled",!0),$("#btn-sumbit-call").css("opacity",.5))}),$("#visit-modal-checkbox").on("change",function(){$("#visit-modal-checkbox").prop("checked")?($("#btn-sumbit-modal-visit").attr("disabled",!1),$("#btn-sumbit-modal-visit").css("opacity",1)):($("#btn-sumbit-modal-visit").attr("disabled",!0),$("#btn-sumbit-modal-visit").css("opacity",.5))}),$("#mozaika-form-box-checkbox-main").on("change",function(){$("#mozaika-form-box-checkbox-main").prop("checked")?($("#btn-sumbit-mozaika-form-box").attr("disabled",!1),$("#btn-sumbit-mozaika-form-box").css("opacity",1)):($("#btn-sumbit-mozaika-form-box").attr("disabled",!0),$("#btn-sumbit-mozaika-form-box").css("opacity",.5))}),$("#shchelkovo-form-box-checkbox-main").on("change",function(){$("#shchelkovo-form-box-checkbox-main").prop("checked")?($("#btn-sumbit-shchelkovo-form-box").attr("disabled",!1),$("#btn-sumbit-shchelkovo-form-box").css("opacity",1)):($("#btn-sumbit-shchelkovo-form-box").attr("disabled",!0),$("#btn-sumbit-shchelkovo-form-box").css("opacity",.5))})}var D=$(".ymap-container").children(".loader"),S=!1;function q(){var e=new ymaps.Map("map-yandex",{center:[55.710687,37.6751],zoom:16,controls:["zoomControl","fullscreenControl"]}),o=new ymaps.Placemark([55.710687,37.6751],{balloonContent:"Здесь может быть ваш адрес",iconCaption:"7-я Кожуховская ул., 9"},{preset:"islands#blueCircleDotIconWithCaption"},{iconLayout:"default#imageWithContent",iconImageHref:"img/marker-red.png",iconImageSize:[32,32],iconImageOffset:[-25,-50]});e.geoObjects.add(o),e.behaviors.disable("scrollZoom"),function(e){return new ymaps.vow.Promise(function(o,a){var n=function(e){for(var o in e)if(e.hasOwnProperty(o)&&e[o]instanceof ymaps.layer.tileContainer.CanvasContainer|e[o]instanceof ymaps.layer.tileContainer.DomContainer)return e[o];return null}(e),i=!0;n.tiles.each(function(e,o){e.isReady()||(i=!1)}),i?o():n.events.once("ready",function(){o()})})}(e.layers.get(0).get(0)).then(function(){D.removeClass("is-active")})}var V=function(){$(".ymap-container").mouseenter(function(){var e,o,a;S||(S=!0,D.addClass("is-active"),e="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;loadByRequire=1",o=function(){ymaps.load(q)},(a=document.createElement("script")).readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,o())}:a.onload=function(){o()},a.src=e,document.getElementsByTagName("head")[0].appendChild(a))})};$(function(){V()})});